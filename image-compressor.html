<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Compressor - Reduce Image Size Online | Nagar Tools</title>
    <meta name="description" content="Compress JPG, PNG, WebP images online - Reduce file size without losing quality. Free image compressor tool for websites and social media.">
    <meta name="keywords" content="image compressor, compress photos, reduce image size, image optimization, JPG compressor, PNG compressor, online image compression, photo size reducer">
    <meta name="author" content="Nagar Tools">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="Image Compressor - Reduce Image Size Online | Nagar Tools">
    <meta property="og:description" content="Compress JPG, PNG, WebP images online - Reduce file size without losing quality.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nagartools.in/tools/image-compressor">
    <meta property="og:image" content="https://nagartools.in/assets/og-image-compressor.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://nagartools.in/tools/image-compressor">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üóúÔ∏è</text></svg>">
    
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Image Compressor - Nagar Tools",
      "url": "https://nagartools.in/tools/image-compressor",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free online image compressor tool to reduce JPG, PNG, WebP file sizes without quality loss.",
      "featureList": "Drag & drop upload, Batch processing, Quality control, Format conversion, Secure client-side processing"
    }
    </script>
    
    <style>
        :root {
            --primary-blue: #2563eb;
            --secondary-blue: #3b82f6;
            --light-blue: #dbeafe;
            --dark-blue: #1e40af;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
            --error-red: #ef4444;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --bg-white: #ffffff;
            --bg-gray: #f9fafb;
            --border-color: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --radius: 12px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: var(--text-dark);
            background-color: var(--bg-white);
            line-height: 1.6;
            padding-top: 60px;
        }
        
        /* Header */
        .header {
            background-color: var(--bg-white);
            box-shadow: var(--shadow);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }
        
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .breadcrumb {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-top: 0.5rem;
        }
        
        .breadcrumb a {
            color: var(--text-light);
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            color: var(--primary-blue);
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }
        
        .hero p {
            font-size: 1.1rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto 2rem;
        }
        
        .features {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 2rem;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        /* Tool Container */
        .tool-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        @media (max-width: 768px) {
            .tool-container {
                grid-template-columns: 1fr;
            }
        }
        
        /* Upload Section */
        .upload-section {
            background-color: var(--bg-gray);
            border-radius: var(--radius);
            padding: 2rem;
            border: 2px dashed var(--border-color);
            transition: var(--transition);
        }
        
        .upload-section.drag-over {
            border-color: var(--primary-blue);
            background-color: var(--light-blue);
        }
        
        .upload-area {
            text-align: center;
            padding: 3rem 1rem;
            cursor: pointer;
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }
        
        .upload-text h3 {
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }
        
        .upload-text p {
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }
        
        .upload-btn {
            background-color: var(--primary-blue);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-block;
        }
        
        .upload-btn:hover {
            background-color: var(--dark-blue);
            transform: translateY(-2px);
        }
        
        .file-input {
            display: none;
        }
        
        /* Settings Section */
        .settings-section {
            background-color: var(--bg-white);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }
        
        .settings-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .settings-group {
            margin-bottom: 2rem;
        }
        
        .settings-group h3 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Quality Slider */
        .quality-slider {
            width: 100%;
            margin: 1rem 0;
        }
        
        .quality-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .quality-presets {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .preset-btn {
            padding: 0.5rem;
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            background: white;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        
        .preset-btn:hover {
            border-color: var(--primary-blue);
        }
        
        .preset-btn.active {
            border-color: var(--primary-blue);
            background-color: var(--light-blue);
            color: var(--primary-blue);
        }
        
        /* Toggle Switch */
        .toggle-switch {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary-blue);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        /* Action Buttons */
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .compress-btn, .reset-btn {
            padding: 1rem;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .compress-btn {
            background-color: var(--primary-blue);
            color: white;
        }
        
        .compress-btn:hover {
            background-color: var(--dark-blue);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }
        
        .compress-btn:disabled {
            background-color: var(--border-color);
            cursor: not-allowed;
            transform: none;
        }
        
        .reset-btn {
            background-color: var(--bg-gray);
            color: var(--text-dark);
            border: 2px solid var(--border-color);
        }
        
        .reset-btn:hover {
            background-color: #e5e7eb;
        }
        
        /* Results Section */
        .results-section {
            display: none;
            background-color: var(--bg-white);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-top: 2rem;
        }
        
        .results-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .results-header h2 {
            font-size: 1.5rem;
            color: var(--text-dark);
        }
        
        .download-all {
            background-color: var(--success-green);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }
        
        .download-all:hover {
            background-color: #0da271;
            transform: translateY(-2px);
        }
        
        .images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .image-card {
            background-color: var(--bg-gray);
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        
        .image-preview {
            width: 100%;
            height: 200px;
            object-fit: contain;
            background-color: white;
            padding: 0.5rem;
        }
        
        .image-info {
            padding: 1rem;
        }
        
        .image-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            word-break: break-all;
        }
        
        .size-comparison {
            display: flex;
            justify-content: space-between;
            margin: 0.5rem 0;
            font-size: 0.9rem;
        }
        
        .original-size {
            color: var(--text-light);
        }
        
        .compressed-size {
            color: var(--success-green);
            font-weight: 600;
        }
        
        .reduction {
            color: var(--primary-blue);
            font-weight: 600;
            text-align: center;
            padding: 0.2rem 0.5rem;
            background-color: var(--light-blue);
            border-radius: 4px;
        }
        
        .download-btn {
            width: 100%;
            background-color: var(--primary-blue);
            color: white;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 0.5rem;
            transition: var(--transition);
        }
        
        .download-btn:hover {
            background-color: var(--dark-blue);
        }
        
        /* Loading State */
        .loading {
            display: none;
            text-align: center;
            padding: 3rem;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--light-blue);
            border-top: 5px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }
        
        .stat-item {
            text-align: center;
            padding: 1rem;
            background-color: var(--bg-gray);
            border-radius: var(--radius);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        /* FAQ Section */
        .faq-section {
            margin-top: 4rem;
            padding: 2rem 0;
            border-top: 1px solid var(--border-color);
        }
        
        .faq-section h2 {
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2rem;
            color: var(--text-dark);
        }
        
        .faq-grid {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            overflow: hidden;
        }
        
        .faq-question {
            padding: 1rem;
            background-color: var(--bg-gray);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }
        
        .faq-answer {
            padding: 1rem;
            display: none;
            color: var(--text-light);
        }
        
        .faq-item.active .faq-answer {
            display: block;
        }
        
        /* Footer */
        .footer {
            background-color: #1e293b;
            color: white;
            padding: 3rem 2rem;
            margin-top: 4rem;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }
        
        .footer-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
            display: block;
        }
        
        .footer-links a {
            color: #cbd5e1;
            text-decoration: none;
            display: block;
            margin-bottom: 0.5rem;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #374151;
            color: #9ca3af;
            font-size: 0.9rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .features {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }
            
            .quality-presets {
                grid-template-columns: 1fr 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .images-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Utility Classes */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .text-center {
            text-align: center;
        }
        
        .mt-2 { margin-top: 2rem; }
        .mb-2 { margin-bottom: 2rem; }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div>
                <a href="/" class="logo">
                    <span>üîß</span>
                    Nagar Tools
                </a>
                <div class="breadcrumb">
                    <a href="/">Home</a> &gt; 
                    <a href="/tools">Tools</a> &gt; 
                    <a href="/tools/image-tools">Image Tools</a> &gt; 
                    <span>Image Compressor</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <main class="container">
        <!-- Hero Section -->
        <section class="hero">
            <h1>Compress Images Online - Reduce File Size Instantly</h1>
            <p>Optimize JPG, PNG, WebP images for web without quality loss. Free, secure, and no registration required.</p>
            
            <div class="features">
                <div class="feature-item">‚úÖ No quality loss compression</div>
                <div class="feature-item">‚úÖ Batch processing</div>
                <div class="feature-item">‚úÖ Secure & private</div>
                <div class="feature-item">‚úÖ Free unlimited use</div>
            </div>
        </section>

        <!-- Tool Container -->
        <div class="tool-container">
            <!-- Upload Section -->
            <section class="upload-section" id="uploadSection">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üìÅ</div>
                    <div class="upload-text">
                        <h3>Drop images here</h3>
                        <p>or click to browse files</p>
                        <p>Supports JPG, PNG, WebP, GIF ‚Ä¢ Max 10MB each</p>
                        <button class="upload-btn" id="browseBtn">Browse Images</button>
                        <input type="file" class="file-input" id="fileInput" accept=".jpg,.jpeg,.png,.webp,.gif" multiple>
                    </div>
                </div>
                <div id="fileList" class="mt-2"></div>
            </section>

            <!-- Settings Section -->
            <section class="settings-section">
                <h2>‚öôÔ∏è Compression Settings</h2>
                
                <!-- Quality Settings -->
                <div class="settings-group">
                    <h3>üéØ Quality & Compression</h3>
                    <input type="range" min="1" max="100" value="80" class="quality-slider" id="qualitySlider">
                    <div class="quality-labels">
                        <span>Smaller file</span>
                        <span>Balanced</span>
                        <span>Better quality</span>
                    </div>
                    <div class="quality-presets">
                        <button class="preset-btn" data-quality="40">Low (40%)</button>
                        <button class="preset-btn active" data-quality="80">Medium (80%)</button>
                        <button class="preset-btn" data-quality="90">High (90%)</button>
                        <button class="preset-btn" data-quality="100">Lossless</button>
                    </div>
                </div>

                <!-- Advanced Settings -->
                <div class="settings-group">
                    <h3>‚ö° Advanced Options</h3>
                    
                    <div class="toggle-switch">
                        <label class="switch">
                            <input type="checkbox" id="preserveExif">
                            <span class="slider"></span>
                        </label>
                        <span>Preserve EXIF data (metadata)</span>
                    </div>

                    <div class="toggle-switch">
                        <label class="switch">
                            <input type="checkbox" id="resizeToggle">
                            <span class="slider"></span>
                        </label>
                        <span>Resize images</span>
                    </div>

                    <div id="resizeOptions" style="display: none; margin-top: 1rem;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label>Max Width (px)</label>
                                <input type="number" id="maxWidth" min="100" max="5000" value="1920" style="width: 100%; padding: 0.5rem; border: 1px solid var(--border-color); border-radius: 8px;">
                            </div>
                            <div>
                                <label>Max Height (px)</label>
                                <input type="number" id="maxHeight" min="100" max="5000" value="1080" style="width: 100%; padding: 0.5rem; border: 1px solid var(--border-color); border-radius: 8px;">
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 1rem;">
                        <label>Output Format</label>
                        <select id="outputFormat" style="width: 100%; padding: 0.5rem; border: 1px solid var(--border-color); border-radius: 8px; margin-top: 0.5rem;">
                            <option value="original">Keep original format</option>
                            <option value="jpeg">JPG (Best for photos)</option>
                            <option value="png">PNG (Best for graphics)</option>
                            <option value="webp">WebP (Modern format)</option>
                        </select>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="compress-btn" id="compressBtn" disabled>Compress Images</button>
                    <button class="reset-btn" id="resetBtn">Reset All</button>
                </div>
            </section>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <h3>Compressing Images...</h3>
            <p>Please wait while we optimize your images</p>
        </div>

        <!-- Results Section -->
        <section class="results-section" id="resultsSection">
            <div class="results-header">
                <h2>üéâ Compression Results</h2>
                <button class="download-all" id="downloadAllBtn">
                    <span>‚¨áÔ∏è</span>
                    Download All as ZIP
                </button>
            </div>
            
            <div class="images-grid" id="imagesGrid">
                <!-- Images will be inserted here -->
            </div>
            
            <div class="stats" id="stats">
                <!-- Stats will be inserted here -->
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq-section">
            <h2>‚ùì Frequently Asked Questions</h2>
            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question">
                        How much can I compress images?
                        <span>‚ûï</span>
                    </div>
                    <div class="faq-answer">
                        Typically, you can reduce image size by 60-80% without noticeable quality loss. The exact reduction depends on the original image quality and your compression settings.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        Will compression reduce image quality?
                        <span>‚ûï</span>
                    </div>
                    <div class="faq-answer">
                        With our smart compression algorithm, you can significantly reduce file size while maintaining excellent visual quality. Use the quality slider to find the perfect balance for your needs.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        What image formats are supported?
                        <span>‚ûï</span>
                    </div>
                    <div class="faq-answer">
                        We support JPG, PNG, WebP, and GIF formats. You can also convert between these formats during compression.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        Are my images secure?
                        <span>‚ûï</span>
                    </div>
                    <div class="faq-answer">
                        Yes! All compression happens in your browser. Your images are never uploaded to any server. They're automatically deleted from memory after processing.
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div>
                <a href="/" class="footer-logo">Nagar Tools</a>
                <p style="color: #cbd5e1; margin-bottom: 1rem;">Simplifying your digital life with powerful tools.</p>
                <p style="color: #cbd5e1;">üìß nagartools1@gmail.com</p>
            </div>
            
            <div>
                <h3 style="color: white; margin-bottom: 1rem;">Quick Links</h3>
                <div class="footer-links">
                    <a href="/">Home</a>
                    <a href="/tools">All Tools</a>
                    <a href="/tools/image-tools">Image Tools</a>
                    <a href="/contact">Contact</a>
                </div>
            </div>
            
            <div>
                <h3 style="color: white; margin-bottom: 1rem;">Legal</h3>
                <div class="footer-links">
                    <a href="/privacy-policy">Privacy Policy</a>
                    <a href="/terms-of-use">Terms of Use</a>
                    <a href="/cookie-policy">Cookie Policy</a>
                    <a href="/disclaimer">Disclaimer</a>
                </div>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; <span id="currentYear"></span> Nagar Tools. All rights reserved.</p>
            <p>Free online tools for everyday tasks.</p>
        </div>
    </footer>

    <script>
        // DOM Elements
        const uploadArea = document.getElementById('uploadArea');
        const uploadSection = document.getElementById('uploadSection');
        const fileInput = document.getElementById('fileInput');
        const browseBtn = document.getElementById('browseBtn');
        const fileList = document.getElementById('fileList');
        const qualitySlider = document.getElementById('qualitySlider');
        const presetButtons = document.querySelectorAll('.preset-btn');
        const preserveExif = document.getElementById('preserveExif');
        const resizeToggle = document.getElementById('resizeToggle');
        const resizeOptions = document.getElementById('resizeOptions');
        const maxWidth = document.getElementById('maxWidth');
        const maxHeight = document.getElementById('maxHeight');
        const outputFormat = document.getElementById('outputFormat');
        const compressBtn = document.getElementById('compressBtn');
        const resetBtn = document.getElementById('resetBtn');
        const loading = document.getElementById('loading');
        const resultsSection = document.getElementById('resultsSection');
        const imagesGrid = document.getElementById('imagesGrid');
        const stats = document.getElementById('stats');
        const downloadAllBtn = document.getElementById('downloadAllBtn');
        const faqItems = document.querySelectorAll('.faq-item');

        // State Management
        let selectedFiles = [];
        let compressedImages = [];
        let totalOriginalSize = 0;
        let totalCompressedSize = 0;

        // Initialize
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Event Listeners
        browseBtn.addEventListener('click', () => fileInput.click());
        
        fileInput.addEventListener('change', (e) => {
            handleFiles(Array.from(e.target.files));
        });

        // Drag and Drop
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadSection.classList.add('drag-over');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadSection.classList.remove('drag-over');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadSection.classList.remove('drag-over');
            const files = Array.from(e.dataTransfer.files);
            handleFiles(files);
        });

        // Quality Presets
        presetButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                presetButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                qualitySlider.value = btn.dataset.quality;
                updateQualityLabel();
            });
        });

        qualitySlider.addEventListener('input', updateQualityLabel);

        // Toggle Resize Options
        resizeToggle.addEventListener('change', () => {
            resizeOptions.style.display = resizeToggle.checked ? 'block' : 'none';
        });

        // Compress Button
        compressBtn.addEventListener('click', compressImages);

        // Reset Button
        resetBtn.addEventListener('click', resetAll);

        // Download All
        downloadAllBtn.addEventListener('click', downloadAllAsZip);

        // FAQ Toggle
        faqItems.forEach(item => {
            item.querySelector('.faq-question').addEventListener('click', () => {
                item.classList.toggle('active');
            });
        });

        // Functions
        function handleFiles(files) {
            // Filter valid image files
            const validFiles = files.filter(file => {
                const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];
                const maxSize = 10 * 1024 * 1024; // 10MB
                
                if (!validTypes.includes(file.type)) {
                    alert(`‚ùå ${file.name} is not a supported image format.`);
                    return false;
                }
                
                if (file.size > maxSize) {
                    alert(`‚ùå ${file.name} exceeds 10MB limit.`);
                    return false;
                }
                
                return true;
            });

            // Add to selected files
            selectedFiles = [...selectedFiles, ...validFiles];
            
            // Update UI
            updateFileList();
            updateCompressButton();
        }

        function updateFileList() {
            if (selectedFiles.length === 0) {
                fileList.innerHTML = '';
                return;
            }

            let html = '<h4>üìÅ Selected Files (' + selectedFiles.length + ')</h4>';
            selectedFiles.forEach((file, index) => {
                const size = formatFileSize(file.size);
                html += `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; border-bottom: 1px solid var(--border-color);">
                        <div>
                            <span>${file.name}</span>
                            <span style="color: var(--text-light); font-size: 0.9rem; margin-left: 1rem;">${size}</span>
                        </div>
                        <button onclick="removeFile(${index})" style="background: none; border: none; color: var(--error-red); cursor: pointer;">‚úï</button>
                    </div>
                `;
            });
            
            fileList.innerHTML = html;
        }

        function removeFile(index) {
            selectedFiles.splice(index, 1);
            updateFileList();
            updateCompressButton();
        }

        function updateCompressButton() {
            compressBtn.disabled = selectedFiles.length === 0;
        }

        function updateQualityLabel() {
            const value = qualitySlider.value;
            const presetBtn = document.querySelector(`.preset-btn[data-quality="${value}"]`);
            if (presetBtn) {
                presetButtons.forEach(b => b.classList.remove('active'));
                presetBtn.classList.add('active');
            }
        }

        async function compressImages() {
            if (selectedFiles.length === 0) return;

            // Show loading
            loading.classList.add('active');
            compressBtn.disabled = true;
            resultsSection.classList.remove('active');

            // Reset stats
            totalOriginalSize = 0;
            totalCompressedSize = 0;
            compressedImages = [];

            // Process each file
            for (let i = 0; i < selectedFiles.length; i++) {
                await compressSingleImage(selectedFiles[i], i);
            }

            // Hide loading
            loading.classList.remove('active');
            
            // Show results
            showResults();
        }

        async function compressSingleImage(file, index) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        // Create canvas
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        
                        // Calculate new dimensions if resizing is enabled
                        let width = img.width;
                        let height = img.height;
                        
                        if (resizeToggle.checked) {
                            const maxW = parseInt(maxWidth.value) || 1920;
                            const maxH = parseInt(maxHeight.value) || 1080;
                            
                            if (width > maxW || height > maxH) {
                                const ratio = Math.min(maxW / width, maxH / height);
                                width = Math.floor(width * ratio);
                                height = Math.floor(height * ratio);
                            }
                        }
                        
                        // Set canvas dimensions
                        canvas.width = width;
                        canvas.height = height;
                        
                        // Draw image
                        ctx.drawImage(img, 0, 0, width, height);
                        
                        // Get output format
                        let format = outputFormat.value;
                        if (format === 'original') {
                            format = file.type.split('/')[1];
                            if (format === 'jpeg') format = 'jpg';
                        }
                        
                        // Compression quality (0 to 1)
                        const quality = parseInt(qualitySlider.value) / 100;
                        
                        // Convert to data URL
                        let dataUrl;
                        if (format === 'png') {
                            dataUrl = canvas.toDataURL('image/png');
                        } else if (format === 'webp') {
                            dataUrl = canvas.toDataURL('image/webp', quality);
                        } else {
                            // Default to JPEG
                            dataUrl = canvas.toDataURL('image/jpeg', quality);
                        }
                        
                        // Create compressed file
                        const byteString = atob(dataUrl.split(',')[1]);
                        const mimeString = dataUrl.split(',')[0].split(':')[1].split(';')[0];
                        const ab = new ArrayBuffer(byteString.length);
                        const ia = new Uint8Array(ab);
                        
                        for (let i = 0; i < byteString.length; i++) {
                            ia[i] = byteString.charCodeAt(i);
                        }
                        
                        const compressedFile = new File([ab], 
                            file.name.replace(/\.[^/.]+$/, "") + '_compressed.' + format,
                            { type: mimeString }
                        );
                        
                        // Update stats
                        totalOriginalSize += file.size;
                        totalCompressedSize += compressedFile.size;
                        
                        // Add to results
                        compressedImages.push({
                            original: file,
                            compressed: compressedFile,
                            reduction: Math.round((1 - compressedFile.size / file.size) * 100),
                            width: width,
                            height: height
                        });
                        
                        resolve();
                    };
                    
                    img.src = e.target.result;
                };
                
                reader.readAsDataURL(file);
            });
        }

        function showResults() {
            // Clear previous results
            imagesGrid.innerHTML = '';
            
            // Add compressed images
            compressedImages.forEach((item, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imgElement = document.createElement('div');
                    imgElement.className = 'image-card';
                    imgElement.innerHTML = `
                        <img src="${e.target.result}" alt="Compressed" class="image-preview">
                        <div class="image-info">
                            <div class="image-name">${item.compressed.name}</div>
                            <div class="size-comparison">
                                <span class="original-size">${formatFileSize(item.original.size)}</span>
                                <span>‚Üí</span>
                                <span class="compressed-size">${formatFileSize(item.compressed.size)}</span>
                            </div>
                            <div class="reduction">${item.reduction}% smaller</div>
                            <button class="download-btn" onclick="downloadSingleImage(${index})">
                                ‚¨áÔ∏è Download
                            </button>
                        </div>
                    `;
                    imagesGrid.appendChild(imgElement);
                };
                reader.readAsDataURL(item.compressed);
            });
            
            // Update stats
            const totalReduction = Math.round((1 - totalCompressedSize / totalOriginalSize) * 100);
            const totalSavings = totalOriginalSize - totalCompressedSize;
            
            stats.innerHTML = `
                <div class="stat-item">
                    <div class="stat-value">${compressedImages.length}</div>
                    <div class="stat-label">Images Processed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${totalReduction}%</div>
                    <div class="stat-label">Total Reduction</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${formatFileSize(totalSavings)}</div>
                    <div class="stat-label">Total Savings</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${formatFileSize(totalCompressedSize)}</div>
                    <div class="stat-label">Final Size</div>
                </div>
            `;
            
            // Show results section
            resultsSection.classList.add('active');
            
            // Scroll to results
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        function downloadSingleImage(index) {
            const item = compressedImages[index];
            const url = URL.createObjectURL(item.compressed);
            const a = document.createElement('a');
            a.href = url;
            a.download = item.compressed.name;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        async function downloadAllAsZip() {
            if (compressedImages.length === 0) return;
            
            // Simple implementation - download files individually
            // For better implementation, use JSZip library
            alert('Downloading all images... For better ZIP functionality, consider implementing JSZip library.');
            
            compressedImages.forEach((item, index) => {
                setTimeout(() => {
                    downloadSingleImage(index);
                }, index * 100);
            });
        }

        function resetAll() {
            selectedFiles = [];
            compressedImages = [];
            totalOriginalSize = 0;
            totalCompressedSize = 0;
            
            // Reset UI
            updateFileList();
            updateCompressButton();
            resultsSection.classList.remove('active');
            fileInput.value = '';
            
            // Reset settings
            qualitySlider.value = 80;
            updateQualityLabel();
            preserveExif.checked = false;
            resizeToggle.checked = false;
            resizeOptions.style.display = 'none';
            outputFormat.value = 'original';
            
            // Reset preset buttons
            presetButtons.forEach(b => b.classList.remove('active'));
            document.querySelector('.preset-btn[data-quality="80"]').classList.add('active');
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Expose functions to global scope for onclick handlers
        window.removeFile = removeFile;
        window.downloadSingleImage = downloadSingleImage;
    </script>
</body>
</html>
